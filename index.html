<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three Years of Us</title>
    <style>
        :root {
            --primary: #ff85a2;
            --primary-dark: #ff5c8a;
            --primary-light: #ffc2d1;
            --secondary: #ffd1dc;
            --accent: #ff1493;
            --text: #333;
            --light: #fff;
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(255, 255, 255, 0.2);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--light) 30%, var(--primary-light) 100%);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            width: 100vw;
        }
        
        /* Glassmorphism base style */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        /* Mail Animation Styles */
        .mail-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--light) 30%, var(--primary-light) 100%);
            z-index: 100;
            transition: transform 0.8s ease-in-out;
        }
        
        .mail-exit {
            transform: translateY(-100%);
        }
        
        .letter-image {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 200px;
            height: 200px;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }
        
        .animated-mail {
            position: absolute;
            height: 150px;
            width: 200px;
            transition: .4s;
        }
        
        .animated-mail .body {
            position: absolute;
            bottom: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 0 100px 200px;
            border-color: transparent transparent var(--primary) transparent;
            z-index: 2;
        }
        
        .animated-mail .top-fold {
            position: absolute;
            top: 50px;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 50px 100px 0 100px;
            transform-origin: 50% 0%;
            transition: transform .4s .4s, z-index .2s .4s;
            border-color: var(--primary-dark) transparent transparent transparent;
            z-index: 2;
        }
        
        .animated-mail .back-fold {
            position: absolute;
            bottom: 0;
            width: 200px;
            height: 100px;
            background: var(--primary-dark);
            z-index: 0;
        }
        
        .animated-mail .left-fold {
            position: absolute;
            bottom: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 50px 0 50px 100px;
            border-color: transparent transparent transparent var(--secondary);
            z-index: 2;
        }
        
        .animated-mail .letter {
            left: 20px;
            bottom: 0px;
            position: absolute;
            width: 160px;
            height: 60px;
            background: white;
            z-index: 1;
            overflow: hidden;
            transition: .4s .2s;
        }
        
        .animated-mail .letter .letter-border {
            height: 10px;
            width: 100%;
            background: repeating-linear-gradient(
                -45deg,
                var(--primary-dark),
                var(--primary-dark) 8px,
                transparent 8px,
                transparent 18px
            );
        }
        
        .animated-mail .letter .letter-title {
            margin-top: 10px;
            margin-left: 5px;
            height: 10px;
            width: 40%;
            background: var(--primary-dark);
        }
        
        .animated-mail .letter .letter-context {
            margin-top: 10px;
            margin-left: 5px;
            height: 10px;
            width: 20%;
            background: var(--primary-dark);
        }
        
        .animated-mail .letter .letter-stamp {
            margin-top: 30px;
            margin-left: 120px;
            border-radius: 100%;
            height: 30px;
            width: 30px;
            background: var(--primary-dark);
            opacity: 0.3;
        }
        
        .letter-image:hover .animated-mail {
            transform: translateY(50px);
        }
        
        .letter-image:hover .animated-mail .top-fold {
            transition: transform .4s, z-index .2s;
            transform: rotateX(180deg);
            z-index: 0;
        }
        
        .letter-image:hover .animated-mail .letter {
            height: 180px;
        }
        
        .open-text {
            position: absolute;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%);
            color: var(--text);
            text-align: center;
            font-size: 1.2rem;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        .letter-image:hover + .open-text {
            opacity: 1;
        }
        
        /* Main Content Styles */
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0;
            min-height: 100vh;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            width: 100%;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .title-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .typing-container {
            display: inline-block;
            position: relative;
            font-size: 2.5rem;
            font-weight: bold;
            min-height: 3rem;
            margin: 0 auto;
            color: var(--light);
        }
        
        .static-text {
            color: var(--light);
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        .dynamic-text-wrapper {
            position: relative;
            display: inline-block;
            min-width: 10ch;
            overflow: hidden;
            white-space: nowrap;
        }
        
        .dynamic-text {
            display: inline-block;
            color: var(--accent);
            position: relative;
            white-space: nowrap;
            margin: 0;
            animation: typing 3.5s steps(30, end);
        }
        
        .typing-cursor {
            position: absolute;
            right: -5px;
            display: inline-block;
            width: 3px;
            height: 80%;
            background-color: var(--light);
            animation: blink 0.8s infinite;
            top: 10%;
            vertical-align: middle;
        }
        
        @media (max-width: 768px) {
            .typing-container {
                font-size: 2rem;
            }
        }
        
        .subtitle {
            font-style: italic;
            margin-bottom: 20px;
            color: var(--light);
        }
        
        .hearts-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .heart {
            color: var(--light);
            font-size: 1.5em;
            animation: pulse 1.5s infinite;
            animation-delay: calc(var(--i) * 0.3s);
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .counter {
            margin: 30px auto;
            text-align: center;
            font-size: 1.2rem;
            padding: 15px;
            max-width: 600px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: var(--light);
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .counter span {
            font-weight: bold;
            color: var(--light);
        }
        
        .content-section {
            padding: 20px;
        }
        
        .section-title {
            text-align: center;
            margin: 40px 0 30px;
            color: var(--primary-dark);
            position: relative;
        }
        
        .section-title:after {
            content: "";
            display: block;
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
            margin: 10px auto;
        }
        
        /* Special Moments */
        .special-moments {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 0 auto;
            max-width: 1200px;
            padding: 0 20px;
        }
        
        .moment {
            height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
            position: relative;
        }
        
        .moment:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .moment:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 0%, rgba(255, 132, 162, 0.1) 100%);
            z-index: -1;
        }
        
        .moment-date {
            font-weight: bold;
            font-size: 2.2rem;
            color: var(--accent);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .moment-content {
            line-height: 1.7;
            text-align: center;
            transition: opacity 0.3s ease;
        }
        
        .moment:hover .moment-content {
            opacity: 1;
        }
        
        /* Love Notes Carousel */
        .notes-container {
            margin: 40px auto;
            max-width: 800px;
            padding: 0 20px;
        }
        
        .carousel-container {
            position: relative;
            max-width: 100%;
            overflow: hidden;
            border-radius: 15px;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .carousel {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 300px;
        }
        
        .note {
            min-width: 100%;
            background: transparent;
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .note p {
            font-size: 1.1rem;
            line-height: 1.8;
        }
        
        .note-date {
            text-align: right;
            font-size: 0.9rem;
            color: var(--primary-dark);
            margin-top: 15px;
        }
        
        .carousel-indicators {
            display: flex;
            justify-content: center;
            margin-top: 15px;
            margin-bottom: 5px;
        }
        
        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--primary-light);
            margin: 0 10px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }
        
        .indicator.active {
            background-color: var(--accent);
            transform: scale(1.2);
        }
        
        footer {
            text-align: center;
            padding: 20px 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: var(--light);
            margin-top: 40px;
            width: 100%;
            border-radius: 30px 30px 0 0;
        }
        
        footer .subtitle {
            margin-top: 10px;
        }
        
        @media (min-width: 992px) {
            .container {
                max-width: 100%;
            }
            
            .moment {
                padding: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .moment {
                height: 180px;
            }
            
            .carousel {
                height: 350px;
            }
        }
    </style>
</head>
<body>
    <!-- Mail Animation Container -->
    <div class="mail-container" id="mailContainer">
        <div class="letter-image" id="letterImage">
            <div class="animated-mail">
                <div class="back-fold"></div>
                <div class="letter">
                    <div class="letter-border"></div>
                    <div class="letter-title"></div>
                    <div class="letter-context"></div>
                    <div class="letter-stamp">
                        <div class="letter-stamp-inner"></div>
                    </div>
                </div>
                <div class="top-fold"></div>
                <div class="body"></div>
                <div class="left-fold"></div>
            </div>
        </div>
        <div class="open-text">Click to open our anniversary letter</div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <header>
            <div class="typing-container">
                <span class="static-text">Happy three years of us, </span>
                <span class="dynamic-text-wrapper">
                    <span id="dynamicText" class="dynamic-text"></span>
                    <span class="typing-cursor"></span>
                </span>
            </div>
            <p class="subtitle">Celebrating our beautiful journey together</p>
            <div class="hearts-container">
                <div class="heart" style="--i:0">❤️</div>
                <div class="heart" style="--i:1">❤️</div>
                <div class="heart" style="--i:2">❤️</div>
                <div class="heart" style="--i:3">❤️</div>
                <div class="heart" style="--i:4">❤️</div>
            </div>
        </header>
        
        <div class="content-section">
            <div class="counter glass">
                <p>I have endured <span id="days">1095</span> days of bullying from you</p>
            </div>
            
            <h2 class="section-title">Our Special Moments</h2>
            <div class="special-moments">
                <div class="moment">
                    <div class="moment-date">12th April</div>
                    <div class="moment-content">
                        <p>The day you wanted a follow back but got a soulmate instead</p>
                    </div>
                </div>
                
                <div class="moment">
                    <div class="moment-date">14th Feb</div>
                    <div class="moment-content">
                        <p>How could we have known that it'll become a daily occurrence. I'm so lucky to have you, Maryam</p>
                    </div>
                </div>
                
                <div class="moment">
                    <div class="moment-date">24th July</div>
                    <div class="moment-content">
                        <p>I'll forever be grateful for my massive courage and my stutter as I asked you out for blessing me with meeting my soulmate</p>
                    </div>
                </div>
                
                <div class="moment">
                    <div class="moment-date">????</div>
                    <div class="moment-content">
                        <p>Living life for that goal at this point. I can't wait meri jaaneman ❤️</p>
                    </div>
                </div>
            </div>
            
            <h2 class="section-title">Love Notes</h2>
            <div class="notes-container">
                <div class="carousel-container">
                    <div class="carousel" id="notesCarousel">
                        <div class="note">
                            <p>From the moment we met three years ago, I knew there was something special about you. The way you laugh, the way you see the world - I fall more in love with you every day. Every morning I wake up and thank the universe for bringing you into my life. Your kindness, your strength, and your determination inspire me daily.</p>
                            <div class="note-date">April 12, 2022 - 3:54 PM</div>
                        </div>
                        
                        <div class="note">
                            <p>Three years of memories, adventures, and quiet moments. Thank you for being my partner, my best friend, and my favorite person. I love how we've grown individually and as a couple. You've seen me at my lowest and my highest, and your love has never wavered. You make me feel safe, understood, and treasured.</p>
                            <div class="note-date">July 24, 2022 - 5:18 PM</div>
                        </div>
                        
                        <div class="note">
                            <p>You know all my quirks and still choose to love me every day. That's the most beautiful gift anyone has ever given me. I love the way you scrunch your nose when you laugh and how passionate you get when talking about things you love. Our inside jokes and how we can communicate with just a look mean everything to me.</p>
                            <div class="note-date">February 14, 2023 - 7:30 PM</div>
                        </div>
                        
                        <div class="note">
                            <p>I love how we can be completely ourselves with each other. The way you understand me without words, how you know exactly what I need even before I do. From our first conversation, I felt like I'd known you forever. Every moment with you is special, whether we're traveling somewhere new or just cooking dinner at home.</p>
                            <div class="note-date">April 12, 2023 - 9:15 AM</div>
                        </div>
                        
                        <div class="note">
                            <p>Three years ago, I had no idea how much my life would change when you walked into it. Every laugh, every tear, every challenge we've faced together has only made our love stronger. I love planning our future together and dreaming about the home we'll build. Thank you for your patience, forgiveness, and unwavering belief in me.</p>
                            <div class="note-date">April 12, 2024 - 11:42 AM</div>
                        </div>
                    </div>
                </div>
                <div class="carousel-indicators" id="carouselIndicators"></div>
            </div>
        </div>
        
        <footer>
            <p>With all my love today and always ❤️</p>
            <p class="subtitle">April 12, 2022 - April 12, 2025</p>
        </footer>
    </div>

    <script>
        // Mail Animation Click Event
        document.getElementById('letterImage').addEventListener('click', function() {
            document.getElementById('mailContainer').classList.add('mail-exit');
        });
        
        // Typing animation for "my love", "my bubby", "my chunni" with static "Happy three years of us"
        const changingTexts = ["my love", "my chunni", "my bubby"];
        let currentTextIndex = 0;
        const dynamicTextElement = document.getElementById('dynamicText');
        
        function updateText() {
            // Clear current text
            dynamicTextElement.textContent = '';
            
            // Set new text
            const newText = changingTexts[currentTextIndex];
            dynamicTextElement.textContent = newText;
            
            // Update animation
            dynamicTextElement.style.animation = 'none';
            void dynamicTextElement.offsetWidth; // Trigger reflow
            dynamicTextElement.style.animation = 'typing 3s steps(30, end)';
            
            // Prepare for next text
            currentTextIndex = (currentTextIndex + 1) % changingTexts.length;
            
            // Schedule next update
            setTimeout(updateText, 4000);
        }
        
        // Start the typing animation
        window.onload = function() {
            // Don't start typing until mail animation is done
            document.getElementById('mailContainer').addEventListener('transitionend', function() {
                if (this.classList.contains('mail-exit')) {
                    setTimeout(updateText, 500); // Start typing animation after mail exits
                }
            });
            
            // Stagger animation of moment cards
            const moments = document.querySelectorAll('.moment');
            moments.forEach((moment, index) => {
                moment.style.opacity = '0';
                moment.style.transform = 'translateY(20px)';
                moment.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                moment.style.transitionDelay = `${index * 0.2}s`;
                
                setTimeout(() => {
                    moment.style.opacity = '1';
                    moment.style.transform = 'translateY(0)';
                }, 500 + (index * 200));
            });
        };
        
        // Calculate days together
        const startDate = new Date('2022-04-12T15:54:00');
        const today = new Date();
        const diffTime = Math.abs(today - startDate);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        document.getElementById('days').textContent = diffDays;
        
        // Carousel functionality with dot indicators
        const carousel = document.getElementById('notesCarousel');
        const indicatorsContainer = document.getElementById('carouselIndicators');
        const notes = carousel.querySelectorAll('.note');
        let currentIndex = 0;
        
        // Create dot indicators
        notes.forEach((_, index) => {
            const indicator = document.createElement('div');
            indicator.className = 'indicator';
            if (index === 0) indicator.classList.add('active');
            indicator.addEventListener('click', () => goToSlide(index));
            indicatorsContainer.appendChild(indicator);
        });
        
        function updateCarousel() {
            carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
            
            // Update active indicator
            const indicators = document.querySelectorAll('.indicator');
            indicators.forEach((indicator, index) => {
                if (index === currentIndex) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });
        }
        
        function goToSlide(index) {
            currentIndex = index;
            updateCarousel();
        }
        
        // Auto-rotate carousel
        let carouselInterval = setInterval(() => {
            currentIndex = (currentIndex + 1) % notes.length;
            updateCarousel();
        }, 8000);
        
        // Pause auto-rotation when interacting with carousel
        carousel.addEventListener('mouseenter', () => {
            clearInterval(carouselInterval);
        });
        
        carousel.addEventListener('mouseleave', () => {
            carouselInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % notes.length;
                updateCarousel();
            }, 8000);
        });
        
        // Touch swipe functionality for mobile
        let touchStartX = 0;
        let touchEndX = 0;
        
        carousel.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
            clearInterval(carouselInterval);
        });
        
        carousel.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
            
            carouselInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % notes.length;
                updateCarousel();
            }, 8000);
        });
        
        function handleSwipe() {
            const swipeThreshold = 50;
            if (touchEndX < touchStartX - swipeThreshold) {
                // Swipe left - next slide
                currentIndex = (currentIndex + 1) % notes.length;
                updateCarousel();
            } else if (touchEndX > touchStartX + swipeThreshold) {
                // Swipe right - previous slide
                currentIndex = (currentIndex - 1 + notes.length) % notes.length;
                updateCarousel();
            }
        }
    </script>
</body>
</html>
